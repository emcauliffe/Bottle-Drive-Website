<!DOCTYPE html>
<html>
<title>Bottles Against COVID-19</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
    body,
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-family: "Montserrat", sans-serif
    }

    .w3-row-padding img {
        margin-bottom: 12px
    }

    .bgimg {
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        background-image: url('https://github.com/emcauliffe/Bottle-Drive-Website/raw/master/images/home-img.png');
        min-height: 100%;
    }
</style>

<body>

    <!-- Sidebar with image -->
    <nav class="w3-sidebar w3-hide-medium w3-hide-small" style="width:40%">
        <div class="bgimg"></div>
    </nav>

    <!-- Page Content -->
    <div class="w3-main w3-padding-large" style="margin-left:40%">

        <div class="w3-right w3-mobile">
            <a href="/signup" class="w3-button w3-light-grey w3-padding-large w3-margin-top w3-mobile">
                Start your own bottle drive!
            </a>

            <a href="/login" class="w3-button w3-light-grey w3-padding-large w3-margin-top w3-mobile">
                <i class="fa fa-lock w3-hover-opacity"></i> Your Drives
            </a>
        </div>
        <!-- Header -->
        <header class="w3-container w3-center" style="padding:64px 16px" id="home">
            <h1 class="w3-jumbo"><b>Bottles Against COVID-19</b></h1>
            <p>Find bottle drives nearby:</p>
            <div class="w3-container w3-margin-bottom w3-bar">
                <button id="locSearch" onClick="locationSearch()" class="w3-button w3-light-grey w3-bar-item w3-mobile">
                    <i class="fa fa-location-arrow"></i> Search by location (fast&nbsp&&nbspaccurate)
                </button>
            </div>
            <br />
            <div class="w3-container w3-margin-top w3-bar">
                <input id="postalCode" class="w3-input w3-border w3-round-large w3-bar-item w3-mobile"
                    style="font-size: 100%;" type="text" placeholder="K1A 0A9"
                    pattern="^([ABCEGHJ-NPRSTVXY]|[abceghj-nprstvxy])[0-9]([ABCEGHJ-NPRSTV-Z]|[abceghj-nprstv-z]) ?[0-9]([ABCEGHJ-NPRSTV-Z]|[abceghj-nprstv-z])[0-9]$">
                <button onClick="postalSearch()" class="w3-button w3-light-grey w3-bar-item w3-mobile"
                    id="postalButton">
                    Search by postal code
                </button>
            </div>


        </header>

        <!-- About Section -->
        <div class="w3-content w3-justify w3-text-grey w3-padding-32" id="about">
            <h2>About</h2>
            <hr class="w3-opacity">
            <p>Due to the COVID-19 pandemic, we have all been spending more time at home than normal ... and for most of
                us, this means we've been consuming much more alcohol than before. We wanted to find a way to join
                efforts against COVID-19,and thus, Bottles Against COVID was born. Since the launch of Bottles Against
                COVID in late March, we have expanded to collecting in both Etobicoke and Forest Hill neighbourhoods.
            </p>
            <p>There has been an overwhelming amount of interest and support in this initiative. Unfortunately, we are
                unable to collect everyones bottles on our own. Due to this, we have created a system for others to
                start and run their own (contactless) bottle drives. By clicking ‘Start Your Own Bottle Drive’ in the
                top right corner you now have the opportunity to start a bottle drive in your area. You can make one for
                your block, your apartment, or your whole neigbourhood. We've tried to make organizing your own drive as
                simple as possible (but feel free to let us know if something can be improved). The idea is to raise
                funds from empty bottles to put towards a charity of your choice to help fight COVID-19 as a community.
                If you want to know more about what running a bottle drive like this entails, feel free to contact us
                using the info below.
            </p>

            <h2>How it works</h2>
            <hr class="w3-opacity">
            <p>Logistics are simple. Once you have collected enough empty bottles to fill a few boxes, please sign up
                for a pick-up date through the posted link. Simply place the box(es) on your front porch, and
                we will come and collect them! CONTACTLESS COLLECTION, OF COURSE!
            </p>

            <h2>Donation Information</h2>
            <hr class="w3-opacity">
            <p>Any donations made through our personal bottle drives will be posted to our Instagram (<a
                    href="https://www.instagram.com/bottlesagainstcovid/">@bottlesagainstcovid</a>) so that everyone can
                stay up to date on our progress! Please feel free to share any donations from your own drives with us
                too so we can repost them! If you do not have any bottles to donate, please feel free to make your own
                donation towards a charity of your choice, or St. Joe's using <a
                    href="https://secure3.convio.net/stjoca/site/SPageNavigator/westendheroes_home.html">this link</a>
                :)
            </p>


            <!-- End About Section -->

        </div>

        <!-- Contact Section -->
        <div class="w3-padding-32 w3-content w3-text-grey" id="contact" style="margin-bottom:64px">
            <h2>Contact Us</h2>
            <hr class="w3-opacity">

            <div class="w3-section">
                <p><i class="fa fa-envelope fa-fw w3-xxlarge w3-margin-right"></i> <a
                        href="mailto:mail@bottlesagainstcovid.org">mail@bottlesagainstcovid.org</a></p>
            </div>

            <!-- End Contact Section -->
        </div>

        <!-- Footer -->
        <footer class="w3-container w3-padding-64 w3-light-grey w3-center w3-opacity w3-xlarge" style="margin:-24px">
            <a href="https://www.instagram.com/bottlesagainstcovid/">
                <i class="fa fa-instagram w3-hover-opacity"></i></a>
            <a href="https://github.com/emcauliffe/Bottle-Drive-Website">
                <i class="fa fa-github w3-hover-opacity"></i></a>
            <a href="/login"><i class="fa fa-lock w3-hover-opacity"></i></a>
            <!-- End footer -->
        </footer>
    </div>

</body>

<script>
    function locationSearch() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(result => window.location.assign(`/search?lat=${result.coords.latitude}&long=${result.coords.longitude}&postal=false`), (error) => document.getElementById("locSearch").disabled = true)
        }
    }

    function postalSearch() {
        const postalCode = document.getElementById("postalCode")
        if (postalCode.checkValidity() && postalCode.value !== "") {
            document.getElementById("postalButton").disabled = true
            document.getElementById("postalButton").style.cursor = "wait"
            fetch("https://geocoder.ca/?json=1&getpolygon=1&postal=" + postalCode.value.replace(' ',''))
                .then(result => result.json())
                .then(value => {
                    document.getElementById("postalButton").disabled = false
                    document.getElementById("postalButton").style.cursor = "auto"
                    window.location.assign(`/search?poly=${value.boundary}&postal=true`)
                })
                .catch(error => console.log(error))
        }
    }
</script>

</html>